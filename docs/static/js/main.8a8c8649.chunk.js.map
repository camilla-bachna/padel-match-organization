{"version":3,"sources":["services/localStorage.js","components/Landing.js","components/palyer/Form.js","components/palyer/Login.js","components/palyer/Profile.js","components/palyer/Player.js","components/tournament/New.js","services/api.js","components/App.js","index.js"],"names":["exportObj","get","key","data","JSON","parse","localStorage","getItem","remove","removeItem","set","setItem","stringify","Landing","className","to","Form","props","onSubmit","ev","preventDefault","handleLogin","player","pin","htmlFor","type","id","pattern","title","placeholder","value","onChange","handlePlayer","required","handlePin","name","gender","event","handleSelect","target","loginError","message","Login","Profile","onClick","handleLogout","Player","isPlayerLoggedIn","NewTournament","state","counter","handleButton","bind","this","setState","prevState","React","Component","userData","fetch","method","body","headers","then","response","json","App","localStoragePlayer","useState","setPlayer","setPin","playerId","setPlayerId","setGender","setLoginError","exact","path","New","console","log","api","error","window","location","reload","inputKey","inputValue","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8a8c8649.chunk.js","sourcesContent":["const get = (key) => {\r\n  const data = JSON.parse(localStorage.getItem(key));\r\n  return data !== null ? data : {};\r\n};\r\n\r\nconst set = (key, data) => {\r\n  localStorage.setItem(key, JSON.stringify(data));\r\n};\r\n\r\nconst remove = (key) => {\r\n  localStorage.removeItem(key);\r\n};\r\n\r\n// export\r\n\r\nconst exportObj = {\r\n  get: get,\r\n  remove: remove,\r\n  set: set,\r\n};\r\n\r\nexport default exportObj;\r\n","import { Link } from 'react-router-dom';\r\n\r\nfunction Landing() {\r\n  return (\r\n    <div className=\"main__landing--container main__annimation\">\r\n      <p className=\"main__landing--paragraph\">\r\n        Por favor elija si deseas crear un nuevo pozo o unirte a uno\r\n      </p>\r\n      <Link to=\"/newTournament\">\r\n        <button className=\"main__landing--button\">Crea un nuevo pozo</button>\r\n      </Link>\r\n      <Link to=\"/joinTournament\">\r\n        <button className=\"main__landing--button\">Únete a un pozo</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;\r\n","import { Link } from 'react-router-dom';\r\n\r\nfunction Form(props) {\r\n  // events\r\n\r\n  const handleGender = (event) => {\r\n    props.handleSelect(event.target.name, event.target.value);\r\n  };\r\n\r\n  //preventDefault for form\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    props.handleLogin({\r\n      player: props.player,\r\n      pin: props.pin,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className=\"main__form main__annimation\" onSubmit={handleSubmit}>\r\n        <label\r\n          htmlFor=\"player\"\r\n          className=\"main__form--label main__form--labelPlayer\"\r\n        >\r\n          Jugador *\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"player\"\r\n          className=\"main__form--input\"\r\n          pattern=\"^[a-zA-Z0-9]{1,20}$\"\r\n          title=\"Puede contener letras y/o números\"\r\n          placeholder=\"elige cualquier nombre de usuario\"\r\n          value={props.player}\r\n          onChange={props.handlePlayer}\r\n          required\r\n        />\r\n        <label htmlFor=\"match\" className=\"main__form--label\">\r\n          Pin *\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"match\"\r\n          className=\"main__form--input\"\r\n          pattern=\"^[0-9]{1,500}$\"\r\n          title=\"Sólo puede contener números\"\r\n          placeholder=\"añade el pin del pozo\"\r\n          value={props.pin}\r\n          onChange={props.handlePin}\r\n          required\r\n        />\r\n        <label htmlFor=\"gender\" className=\"main__form--label\">\r\n          Género\r\n        </label>\r\n        <select\r\n          name=\"gender\"\r\n          id=\"gender\"\r\n          value={props.gender}\r\n          onChange={handleGender}\r\n          className=\"main__form--select\"\r\n        >\r\n          <option value=\"choose\">elige</option>\r\n          <option value=\"male\">Hombre</option>\r\n          <option value=\"female\">Mujer</option>\r\n        </select>\r\n        <button type=\"submit\" className=\"main__form--button\">\r\n          A jugar\r\n        </button>\r\n        <span className=\"main__form--errorMessage\">\r\n          {props.loginError.message}\r\n        </span>\r\n        {/* message for pin not found */}\r\n        <Link to=\"/\" className=\"link\">\r\n          <h4 className=\"main__form--link\">Volver a la página principal</h4>\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import React, { useState } from 'react';\r\nimport Form from './Form';\r\n\r\nconst Login = (props) => {\r\n  //render\r\n\r\n  return (\r\n    <section>\r\n      <Form\r\n        handleLogin={props.handleLogin}\r\n        gender={props.gender}\r\n        handleSelect={props.handleSelect}\r\n        handlePlayer={props.handlePlayer}\r\n        handlePin={props.handlePin}\r\n        player={props.player}\r\n        pin={props.pin}\r\n        loginError={props.loginError}\r\n      />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst Profile = (props) => {\r\n  // render\r\n\r\n  const handleLogout = () => {\r\n    props.handleLogout();\r\n  };\r\n\r\n  return (\r\n    <section className=\"profile\">\r\n      <h4 className=\"profile__heading\">Bienvenido {props.player}</h4>\r\n      <p className=\"profile__paragraph\">\r\n        Por favor, selecciona si has ganado o perdido este partido:\r\n      </p>\r\n      <select\r\n        name=\"result\"\r\n        id=\"result\"\r\n        value=\"result\"\r\n        className=\"profile__select\"\r\n      >\r\n        <option value=\"won\">Ganado</option>\r\n        <option value=\"lost\">Perdido</option>\r\n      </select>\r\n      <button className=\"profile__confirmation\">Confirme</button>\r\n      <button className=\"profile__button\" onClick={handleLogout}>\r\n        Cerrar la sesión\r\n      </button>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Login from './Login';\r\nimport Profile from './Profile';\r\n\r\nconst Player = (props) => {\r\n  const isPlayerLoggedIn = props.isPlayerLoggedIn;\r\n  if (isPlayerLoggedIn) {\r\n    return <Profile handleLogout={props.handleLogout} player={props.player} />;\r\n  } else {\r\n    return (\r\n      <Login\r\n        loginError={props.loginError}\r\n        handleLogin={props.handleLogin}\r\n        gender={props.gender}\r\n        handleSelect={props.handleSelect}\r\n        handlePlayer={props.handlePlayer}\r\n        handlePin={props.handlePin}\r\n        player={props.player}\r\n        pin={props.pin}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\nexport default Player;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass NewTournament extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      counter: 0,\r\n    };\r\n    this.handleButton = this.handleButton.bind(this);\r\n  }\r\n\r\n  handleButton() {\r\n    this.setState((prevState) => {\r\n      return {\r\n        counter: prevState.counter + 1,\r\n      };\r\n    });\r\n  }\r\n\r\n  render() {\r\n    <>{this.state.counter}</>;\r\n\r\n    return (\r\n      <div className=\"newTournament\">\r\n        <h1 className=\"newTournament__heading\">Hola</h1>\r\n        <p className=\"newTournament__paragraph\">\r\n          Por favor, pulse el botón para crear un nuevo pin del pozo\r\n        </p>\r\n        <button className=\"newTournament__button\" onClick={this.handleButton}>\r\n          Nuevo pozo\r\n        </button>\r\n        <p className=\"newTournament__paragraph\">El pin del pozo es: *</p>\r\n        <small className=\"newTournament__comment\">\r\n          * Por favor, comparte este pin con los otros jugadores\r\n        </small>\r\n        <div className=\"newTournament__container\">{this.state.counter}</div>\r\n        <Link to=\"/\" className=\"link\">\r\n          <h4 className=\"newTournament__link\">Volver a la página principal</h4>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewTournament;\r\n","const sendLogin = (userData) => {\r\n  return fetch('http://localhost:3000/api/user/login', {\r\n    method: 'POST',\r\n    body: JSON.stringify(userData),\r\n    headers: { 'Content-Type': 'application/json' },\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      return data;\r\n    });\r\n};\r\n\r\nexport default {\r\n  sendLogin: sendLogin,\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport '../stylesheets/App.scss';\nimport localStorage from '../services/localStorage';\nimport Landing from './Landing';\nimport Player from './palyer/Player';\nimport NewTournament from './tournament/New';\nimport api from '../services/api';\n\nfunction App() {\n  //state\n\n  const localStoragePlayer = localStorage.get('player');\n  const [player, setPlayer] = useState('');\n  const [pin, setPin] = useState('');\n  const [playerId, setPlayerId] = useState(localStoragePlayer.playerId || '');\n  const [gender, setGender] = useState('choose');\n  const [loginError, setLoginError] = useState({});\n  //const [userList, setUserList] = useState([]);\n\n  //effects\n  /*  useEffect(() => {\n    api.getUsers().then((data) => {\n      setUserList(data);\n    });\n  }, []); */\n\n  //events: player\n\n  const handlePlayer = (event) => {\n    setPlayer(event.target.value);\n  };\n\n  const handlePin = (event) => {\n    setPin(event.target.value);\n  };\n\n  const handleLogin = (userData) => {\n    console.log(userData);\n    api.sendLogin(userData).then((data) => {\n      if (data.error === false) {\n        setPlayerId(data.playerId);\n        localStorage.set('player', data);\n      } else {\n        setLoginError(data);\n      }\n    });\n  };\n\n  const handleLogout = () => {\n    localStorage.remove('player'); //delete data from local storage\n    window.location.reload(); //method to refresh a page\n  };\n\n  //select gender\n\n  const handleSelect = (inputKey, inputValue) => {\n    if (inputKey === 'gender') {\n      setGender(inputValue);\n    }\n  };\n\n  //render\n\n  return (\n    <>\n      <header className=\"header\">\n        <h1 className=\"header__heading\">Bienvenido al paraíso del pádel</h1>\n      </header>\n      <main className=\"main\">\n        <div className=\"main__image\"></div>\n        <Switch>\n          <Route exact path=\"/\">\n            <Landing />\n          </Route>\n          <Route exact path=\"/newTournament\">\n            <NewTournament />\n          </Route>\n          <Route exact path=\"/joinTournament\">\n            <Player\n              isPlayerLoggedIn={!!playerId} //if string: empty, its falsy => player not logged in, if not empty, its truthy => player logged in:\n              //isPlayerLoggedIn={playerId !== ''}\n              loginError={loginError}\n              handleLogin={handleLogin}\n              handleLogout={handleLogout}\n              handleSelect={handleSelect}\n              handlePlayer={handlePlayer}\n              handlePin={handlePin}\n              gender={gender}\n              player={player}\n              pin={pin}\n            />\n          </Route>\n        </Switch>\n      </main>\n      <footer className=\"footer\">\n        <small className=\"footer__note\">\n          Esta aplicación está diseñada para ayudarte a encontrar la pista\n          correcta. Sólo tienes que elegir tu nombre de usuario, añadir el pin\n          del pozo y elegir el género. Ya estaría :)\n        </small>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App.js';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}